<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人格测试</title>
    <link rel="stylesheet" type="text/css" href="theme.css">
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="pickRandom.js"></script>
    <script src="cn_text.js"></script>
    <script src="cn_enneagram.js"></script>
    <h1>人格心理类型测试</h1>
    <div id="app">
        <div v-if="nostart">
            <button type="button" :class="bclass" @mouseover="transbutton" @mouseleave="outbutton"
                @click="start">八维测试</button>
            <!-- <button @click="test">test</button> -->
            <h3>该测试基于荣格提出的八种类型理论和辅助功能猜想，与MBTI有一定理论渊源上的关系，但具体出入很大，无法混为一谈。</h3>
            <!-- <button type="button" :class="eclass" @click="estart">九型测试</button>
            <button @click="etest">etest</button> -->
        </div>
        <div v-else-if="result_page">
            <h3>你的类型可能为:</h3>
            <div class="result_class">
                {{ result }}
            </div>
            <div class="result_text_class">
                <p v-html="result_text"></p>
                <p>測試結果值:</p>
                <p>八类型:</p>
                <p>
                    <span>Ti:</span>
                    <progress :value="user_data.ti" max="100" class="T_bar"></progress>
                    {{ user_data.ti }}<br>
                </p>
                <p>
                    <span>Te:</span>
                    <progress :value="user_data.te" max="100" class="T_bar"></progress>
                    {{ user_data.te }}<br>
                </p>
                <p>
                    <span>Fi:</span>
                    <progress :value="user_data.fi" max="100" class="F_bar"></progress>
                    {{ user_data.fi }}<br>
                </p>
                <p>
                    <span>Fe:</span>
                    <progress :value="user_data.fe" max="100" class="F_bar"></progress>
                    {{ user_data.fe }}<br>
                </p>
                <p>
                    <span>Si:</span>
                    <progress :value="user_data.si" max="100" class="S_bar"></progress>
                    {{ user_data.si }}<br>
                </p>
                <p>
                    <span>Se:</span>
                    <progress :value="user_data.se" max="100" class="S_bar"></progress>
                    {{ user_data.se }}<br>
                </p>
                <p>
                    <span>Ni:</span>
                    <progress :value="user_data.ni" max="100" class="N_bar"></progress>
                    {{ user_data.ni }} <br>
                </p>
                <p>
                    <span>Ne:</span>
                    <progress :value="user_data.ne" max="100" class="N_bar"></progress>
                    {{ user_data.ne }}<br>
                </p>
                <p>内外倾:</p>
                <p>
                    <span>I:</span>
                    <progress :value="user_data.I" max="100" class="I_bar"></progress>
                    {{ user_data.I }}<br>
                </p>
                <p>
                    <span>E:</span>
                    <progress :value="user_data.E" max="100" class="E_bar"></progress>
                    {{ user_data.E }}<br>
                </p>
                <p>四功能:</p>
                <p>
                    <span>T:</span>
                    <progress :value="user_data.T" max="100" class="T_bar"></progress>
                    {{ user_data.T }}<br>
                </p>
                <p>
                    <span>F:</span>
                    <progress :value="user_data.F" max="100" class="F_bar"></progress>
                    {{ user_data.F }}<br>
                </p>
                <p>
                    <span>S:</span>
                    <progress :value="user_data.S" max="100" class="S_bar"></progress>
                    {{ user_data.S }}<br>
                </p>
                <p>
                    <span>N:</span>
                    <progress :value="user_data.N" max="100" class="N_bar"></progress>
                    {{ user_data.N }}
                </p>
                <table>
                    <tr>
                        <h2>
                            较可能为该类型的角色:
                        </h2>
                        <h3>该测试展示的分类仅是从心理动机方面进行的分类，所以即使是同一类型，也可能存在较大区别，为了体现这一点，刻意以相差较大的同一类型的人物为例子展示</h3>
                    </tr>
                    <tr>
                        <td v-html="img1"></td>
                    </tr>
                    <tr>
                        <td>
                            {{ C1 }}
                        </td>
                    </tr>
                    <tr>
                        <td v-html="img2"></td>
                    </tr>
                    <tr>
                        <td>
                            {{ C2 }}
                        </td>
                    </tr>
                    <tr>
                        <td v-html="img3"></td>
                    </tr>
                    <tr>
                        <td>
                            {{ C3 }}
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div v-else-if="enneagram_question" class="q_selection">
            <!-- <div>
                <p v-text="current_len + '/' + list_len" class="q_list_len"></p>
            </div> -->
            <div>
                <p v-text="question_enneagram" class="q_text"></p>
            </div>
            <div v-for="answer in answer_enneagram">
                <button :class=answer.color @click="eanswer(answer.type,answer.value)">{{ answer.text }}</button>
            </div>
        </div>
        <div v-else-if="enneagram_result">
            <h3>你的类型可能为:</h3>
            <div class="result_class">
                {{ enneagram_test_result }}
            </div>
            <div class="trifix_class">
                你的Trifix可能为：{{ trifix }}
            </div>
            <div class="result_text_class">
                <div class="result_class">
                    {{ enneagram_keyword }}
                </div>
                <p v-html="enneagram_result_dec"></p>
                <p>測試結果值:</p>
                <p>心区:</p>
                <p>
                    <span>2:</span>
                    <progress :value="enneagram_data.II" max="50" class="F_bar"></progress>
                    {{ enneagram_data.II }}<br>
                </p>
                <p>
                    <span>3:</span>
                    <progress :value="enneagram_data.III" max="50" class="F_bar"></progress>
                    {{ enneagram_data.III }}<br>
                </p>
                <p>
                    <span>4:</span>
                    <progress :value="enneagram_data.IV" max="50" class="F_bar"></progress>
                    {{ enneagram_data.IV }}<br>
                </p>
                <p>脑区:</p>
                <p>
                    <span>5:</span>
                    <progress :value="enneagram_data.V" max="50" class="T_bar"></progress>
                    {{ enneagram_data.V }}<br>
                </p>
                <p>
                    <span>6:</span>
                    <progress :value="enneagram_data.VI" max="50" class="T_bar"></progress>
                    {{ enneagram_data.VI }}<br>
                </p>
                <p>
                    <span>7:</span>
                    <progress :value="enneagram_data.VII" max="50" class="T_bar"></progress>
                    {{ enneagram_data.VII }}<br>
                </p>
                <p>腹区:</p>
                <p>
                    <span>8:</span>
                    <progress :value="enneagram_data.VIII" max="50" class="N_bar"></progress>
                    {{ enneagram_data.VIII }}<br>
                </p>
                <p>
                    <span>9:</span>
                    <progress :value="enneagram_data.IX" max="50" class="N_bar"></progress>
                    {{ enneagram_data.IX }}<br>
                </p>
                <p>
                    <span>1:</span>
                    <progress :value="enneagram_data.I" max="50" class="N_bar"></progress>
                    {{ enneagram_data.I }}<br>
                </p>
                <table>
                    <tr>
                        <h2>
                            较可能为该类型的角色以及反应该类型特点的台词:
                        </h2>
                        <!-- <h3>该测试展示的分类仅是从心理动机方面进行的分类，所以即使是同一类型，也可能存在较大区别，为了体现这一点，刻意以相差较大的同一类型的人物为例子展示</h3> -->
                    </tr>
                    <tr>
                        <td v-html="img1"></td>
                    </tr>
                    <tr>
                        <td>
                            {{ C1 }}
                        </td>
                    </tr>
                    <tr>
                        <td class="td_text">
                            {{ C1text }}
                        </td>
                    </tr>
                    <tr v-if="C2">
                        <td v-html="img2"></td>
                    </tr>
                    <tr v-if="C2">
                        <td>
                            {{ C2 }}
                        </td>
                    </tr>
                    <tr v-if="C2">
                        <td class="td_text">
                            {{ C2text }}
                        </td>
                    </tr>
                    <!-- <tr>
                        <td v-html="img3"></td>
                    </tr>
                    <tr>
                        <td>
                            {{ C3 }}
                        </td>
                    </tr> -->
                </table>
            </div>
        </div>
        <div v-else class="q_selection">
            <div>
                <p v-text="current_len + '/' + list_len" class="q_list_len"></p>
            </div>
            <div>
                <p v-text="question_text" class="q_text"></p>
            </div>
            <div>
                <button class="more_yes" @click="answer(3)">非常符合</button>
            </div>
            <div>
                <button class="yes" @click="answer(2)">符合</button>
            </div>
            <div>
                <button class="little_yes" @click="answer(1)">部分符合</button>
            </div>
            <div>
                <button class="netural" @click="answer(0)">不确定</button>
            </div>
            <div>
                <button class="little_no" @click="answer(-1)">部分不符合</button>
            </div>
            <div>
                <button class="no" @click="answer(-2)">不符合</button>
            </div>
            <div>
                <button class="more_no" @click="answer(-3)">非常不符合</button>
            </div>
            <h3 class="warning">请尽量避免选不确定或者部分符合/部分不符合选项以免结果没有意义或者较为不准确</h2>
        </div>

    </div>

    <script>
        var app = new Vue({
            el: "#app",

            data: {
                nostart: true,
                result_page: false,
                enneagram_question: false,
                enneagram_result: false,
                enneagram_test_result: "",
                select: "no_select_button",
                bclass: "start_button",
                eclass: "e_start_button",
                Question_list: {},
                question_data: {},
                question_text: "",
                question_key: "",
                list_len: 0,
                current_len: 0,
                result: "",
                enneagram_keyword: "",
                result_text: "该类型简介：<br>",
                enneagram_result_dec: "该类型简介：<br>",
                img1: "/01.png' alt='01 pic'>",
                img2: "/02.png' alt='02 pic'>",
                img3: "/03.png' alt='03 pic'>",
                C1: "",
                C2: "",
                C1text: "",
                C2text: "",
                C3: "character3",
                user_data: {
                    "ti": 30,
                    "fe": 30,
                    "fi": 30,
                    "te": 30,
                    "ni": 30,
                    "se": 30,
                    "si": 30,
                    "ne": 30,
                    "T": 30,
                    "F": 30,
                    "N": 30,
                    "S": 30,
                    "I": 30,
                    "E": 30
                },
                question_enneagram: "",
                trifix: "",
                answer_enneagram: [],
                selected_enneagram: [],
                enneagram_num: 0,
                enneagram_data: {
                    "Instincts": '',
                    "so": 0,
                    "sx": 0,
                    "sp": 0,
                    "I": 10,
                    "II": 10,
                    "III": 10,
                    "IV": 10,
                    "V": 10,
                    "VI": 10,
                    "VII": 10,
                    "VIII": 10,
                    "IX": 10,
                },
            },
            methods: {

                start: function () {
                    var that = this;

                    var url = "cn.json"

                    var request = new XMLHttpRequest();

                    request.open("get", url);

                    request.send(null);

                    request.onload = function () {

                        var plist = JSON.parse(request.responseText);
                        // get question list
                        that.Question_list = plist
                        // start test
                        that.nostart = false
                        // get random question
                        question_slect = pickRandomProperty(that.Question_list)
                        // set first question
                        that.question_key = question_slect
                        that.question_data = that.Question_list[question_slect]
                        that.question_text = that.Question_list[question_slect].question
                        that.list_len = getlistlen(that.Question_list)
                        that.current_len = getlistlen(that.Question_list)
                    }
                },
                estart: function () {
                    this.question_enneagram = TestInstinctsq(this.enneagram_num)
                    this.answer_enneagram = TestInstinctsa(this.enneagram_num)
                    this.nostart = false
                    this.enneagram_question = true
                },

                eanswer: function (type, value) {
                    if (this.enneagram_data.Instincts == '') {
                        if (type == "So") {
                            this.enneagram_data.so += value
                        }
                        if (type == "Sx") {
                            this.enneagram_data.sx += value
                        }
                        if (type == "Sp") {
                            this.enneagram_data.sp += value
                        }
                        this.enneagram_num += 1
                        if (TestInstinctsa(this.enneagram_num)) {
                            this.question_enneagram = TestInstinctsq(this.enneagram_num)
                            this.answer_enneagram = TestInstinctsa(this.enneagram_num)
                        } else {
                            if (this.enneagram_data.so > this.enneagram_data.sx && this.enneagram_data.so > this.enneagram_data.sp) {
                                this.enneagram_data.Instincts = 'So'
                            }
                            if (this.enneagram_data.sx > this.enneagram_data.so && this.enneagram_data.sx > this.enneagram_data.sp) {
                                this.enneagram_data.Instincts = 'Sx'
                            }
                            if (this.enneagram_data.sp > this.enneagram_data.sx && this.enneagram_data.sp > this.enneagram_data.so) {
                                this.enneagram_data.Instincts = 'Sp'
                            }
                            this.enneagram_num = 0
                            this.question_enneagram = TestEnneagramq(this.enneagram_data.Instincts, this.enneagram_num)
                            this.answer_enneagram = TestEnneagrama(this.enneagram_data.Instincts, this.enneagram_num)
                        }

                        console.log(this.enneagram_data);

                    }
                    else {
                        if (type == "1") {
                            this.enneagram_data.I += value
                        }
                        if (type == "2") {
                            this.enneagram_data.II += value
                        }
                        if (type == "3") {
                            this.enneagram_data.III += value
                        }
                        if (type == "4") {
                            this.enneagram_data.IV += value
                        }
                        if (type == "5") {
                            this.enneagram_data.V += value
                        }
                        if (type == "6") {
                            this.enneagram_data.VI += value
                        }
                        if (type == "7") {
                            this.enneagram_data.VII += value
                        }
                        if (type == "8") {
                            this.enneagram_data.VIII += value
                        }
                        if (type == "9") {
                            this.enneagram_data.IX += value
                        }
                        console.log(this.enneagram_data);
                        this.enneagram_num += 1
                        if (TestEnneagrama(this.enneagram_data.Instincts, this.enneagram_num)) {
                            this.question_enneagram = TestEnneagramq(this.enneagram_data.Instincts, this.enneagram_num)
                            this.answer_enneagram = TestEnneagrama(this.enneagram_data.Instincts, this.enneagram_num)
                        }
                        else if (this.selected_enneagram.length < 6) {
                            if (type == "1") {
                                this.selected_enneagram.push(1)
                            }
                            if (type == "2") {
                                this.selected_enneagram.push(2)
                            }
                            if (type == "3") {
                                this.selected_enneagram.push(3)
                            }
                            if (type == "4") {
                                this.selected_enneagram.push(4)
                            }
                            if (type == "5") {
                                this.selected_enneagram.push(5)
                            }
                            if (type == "6") {
                                this.selected_enneagram.push(6)
                            }
                            if (type == "7") {
                                this.selected_enneagram.push(7)
                            }
                            if (type == "8") {
                                this.selected_enneagram.push(8)
                            }
                            if (type == "9") {
                                this.selected_enneagram.push(9)
                            }
                            this.question_enneagram = TestEnneagramq(this.enneagram_data.Instincts, this.enneagram_num)
                            this.answer_enneagram = SelectEnneagrama(this.selected_enneagram)
                        }
                        else {
                            this.enneagram_question = false
                            var result_arr = [this.enneagram_data.I, this.enneagram_data.II, this.enneagram_data.III, this.enneagram_data.IV, this.enneagram_data.V, this.enneagram_data.VI, this.enneagram_data.VII, this.enneagram_data.VIII, this.enneagram_data.IX]
                            var brain = [this.enneagram_data.V, this.enneagram_data.VI, this.enneagram_data.VII]
                            var heart = [this.enneagram_data.II, this.enneagram_data.III, this.enneagram_data.IV]
                            var gut = [this.enneagram_data.VIII, this.enneagram_data.IX, this.enneagram_data.I]
                            var maxenneagram = getmax(result_arr, 1)
                            var maxbrain = getmax(brain, 5)
                            var maxheart = getmax(heart, 2)
                            var maxgut = getmax(gut, 8)

                            if (maxenneagram[1] == 2 || maxenneagram[1] == 3 || maxenneagram[1] == 4) {
                                if (maxbrain[0] > maxgut[0]) {
                                    this.trifix = this.trifix + maxenneagram[1] + maxbrain[1] + maxgut[1]
                                }
                                else {
                                    this.trifix = this.trifix + maxenneagram[1] + maxgut[1] + maxbrain[1]
                                }
                            }

                            if (maxenneagram[1] == 5 || maxenneagram[1] == 6 || maxenneagram[1] == 7) {
                                if (maxheart[0] > maxgut[0]) {
                                    this.trifix = this.trifix + maxenneagram[1] + maxheart[1] + maxgut[1]
                                }
                                else {
                                    this.trifix = this.trifix + maxenneagram[1] + maxgut[1] + maxheart[1]
                                }
                            }

                            if (maxenneagram[1] == 8 || maxenneagram[1] == 9 || maxenneagram[1] == 1) {
                                if (maxbrain[0] > maxheart[0]) {
                                    this.trifix = this.trifix + maxenneagram[1] + maxbrain[1] + maxheart[1]
                                }
                                else {
                                    this.trifix = this.trifix + maxenneagram[1] + maxheart[1] + maxbrain[1]
                                }
                            }

                            this.enneagram_test_result = this.enneagram_data.Instincts + maxenneagram[1]
                            this.enneagram_keyword = getetext(this.enneagram_test_result)[0]
                            this.enneagram_result_dec += getetext(this.enneagram_test_result)[1]
                            this.C1 = getecharacter(this.enneagram_test_result)[0][0]
                            this.C1text = getecharacter(this.enneagram_test_result)[0][1]
                            this.img1 = getecharacter(this.enneagram_test_result)[0][2]
                            if (getecharacter(this.enneagram_test_result)[1]) {
                                this.C2 = getecharacter(this.enneagram_test_result)[1][0]
                                this.C2text = getecharacter(this.enneagram_test_result)[1][1]
                                this.img2 = getecharacter(this.enneagram_test_result)[1][2]
                            }
                            else {
                                this.C2 = false
                            }
                            this.enneagram_result = true
                        }
                    }

                },

                etest: function () {
                    this.enneagram_test_result = 'Sx1'
                    this.C1 = getecharacter(this.enneagram_test_result)[0][0]
                    this.C1text = getecharacter(this.enneagram_test_result)[0][1]
                    this.img1 = getecharacter(this.enneagram_test_result)[0][2]
                    if (getecharacter(this.enneagram_test_result)[1]) {
                        this.C2 = getecharacter(this.enneagram_test_result)[1][0]
                        this.C2text = getecharacter(this.enneagram_test_result)[1][1]
                        this.img2 = getecharacter(this.enneagram_test_result)[1][2]
                    }
                    else {
                        this.C2 = false
                    }
                    this.enneagram_keyword = getetext(this.enneagram_test_result)[0]
                    this.enneagram_result_dec += getetext(this.enneagram_test_result)[1]
                    this.nostart = false
                    this.enneagram_result = true
                },

                test: function () {
                    this.result = 'Fe-N'
                    this.result_text += getresulttext('Fi', 'N')
                    this.C1 = getcharacter(this.result)[0]
                    this.C2 = getcharacter(this.result)[1]
                    this.C3 = getcharacter(this.result)[2]
                    this.img1 = "<img src='./img/" + this.result + this.img1
                    this.img2 = "<img src='./img/" + this.result + this.img2
                    this.img3 = "<img src='./img/" + this.result + this.img3
                    this.nostart = false
                    this.result_page = true
                    this.user_data.ti = 110
                    this.user_data.te = 30
                    this.user_data.fi = 20
                    this.user_data.fe = 5
                    this.user_data.ni = 56
                    this.user_data.ne = 70
                    this.user_data.si = 20
                    this.user_data.se = 1
                    this.user_data.T = 5
                    this.user_data.F = 1
                    this.user_data.N = 1
                    this.user_data.S = 3
                    this.user_data.I = 60
                    this.user_data.E = 10
                },

                answer: function (value) {
                    var current_question = this.question_data
                    var current_key = this.question_key
                    var list = this.Question_list
                    var sound = new Audio('./sound/click.wav')
                    sound.play()
                    // calculate result
                    this.user_data.ti += value * current_question.ti
                    this.user_data.te += value * current_question.te
                    this.user_data.fi += value * current_question.fi
                    this.user_data.fe += value * current_question.fe
                    this.user_data.ni += value * current_question.ni
                    this.user_data.ne += value * current_question.ne
                    this.user_data.si += value * current_question.si
                    this.user_data.se += value * current_question.se
                    this.user_data.T += value * current_question.T
                    this.user_data.F += value * current_question.F
                    this.user_data.N += value * current_question.N
                    this.user_data.S += value * current_question.S
                    this.user_data.I += value * current_question.I
                    this.user_data.E += value * current_question.E
                    console.log(this.user_data);
                    if (this.current_len > 1) {
                        // delete the question that was answered
                        delete list[current_key]
                        // pick a new random question
                        question_slect = pickRandomProperty(this.Question_list)
                        this.question_key = question_slect
                        this.question_data = this.Question_list[question_slect]
                        this.question_text = this.question_data.question
                        // update numbers of current questions
                        this.current_len = getlistlen(this.Question_list)
                    }
                    else {
                        // calculate index
                        let ti = this.user_data.ti - this.user_data.fe
                        let te = this.user_data.te - this.user_data.fi
                        let fi = this.user_data.fi - this.user_data.te
                        let fe = this.user_data.fe - this.user_data.ti
                        let ni = this.user_data.ni - this.user_data.se
                        let ne = this.user_data.ne - this.user_data.si
                        let si = this.user_data.si - this.user_data.ne
                        let se = this.user_data.se - this.user_data.ni
                        let T = this.user_data.T
                        let F = this.user_data.F
                        let N = this.user_data.N
                        let S = this.user_data.S
                        let I = this.user_data.I
                        let E = this.user_data.E
                        // let ilist = [ti,si,ni,fi]
                        // let elist = [te,se,ne,fe]
                        // ilist.sort(function(a,b){return b-a});
                        // elist.sort(function(a,b){return b-a});
                        // var maxi = ilist[0]
                        // var maxe = elist[0]

                        //GET the significant result
                        var trovet = calculatemax(E, I, 'e', 'i')
                        var P = calculatemax(N, S, 'N', 'S')
                        var J = calculatemax(T, S, 'T', 'F')
                        var Ji = calculatemax(ti, fi, 'Ti', 'Fi')
                        var Je = calculatemax(te, fe, 'Te', 'Fe')
                        var Pi = calculatemax(ni, si, 'Ni', 'Si')
                        var Pe = calculatemax(ne, se, 'Ne', 'Se')
                        var maxi, maxe;
                        var random_aux1 = '';
                        var random_aux2 = '';
                        var result_check = []
                        if (Ji && Pi) {
                            maxi = calculatemax(Ji[0], Pi[0], Ji[1], Pi[1])
                        }
                        else if (Ji) {
                            maxi = Ji
                        }
                        else if (Pi) {
                            maxi = Pi
                        }
                        if (Je && Pe) {
                            maxe = calculatemax(Je[0], Pe[0], Je[1], Pe[1])
                        }
                        else if (Je) {
                            maxe = Je
                        }
                        else if (Pe) {
                            maxe = Pe
                        }
                        console.log(trovet, P, J, Ji, Je, Pi, Pe);
                        if (trovet) {
                            if (trovet[1] == 'e') {
                                if (maxe) {
                                    this.result += maxe[1]
                                    result_check.splice(0, 1, maxe[1])
                                    if (maxe[1] == Je[1] && P) {
                                        this.result = this.result + '-' + P[1]
                                        result_check.splice(1, 1, P[1])
                                    }
                                    else if (maxe[1] == Je[1]) {
                                        random_aux1 = '-N'
                                        random_aux2 = '-S'
                                    }
                                    if (maxe[1] == Pe[1] && J) {
                                        this.result = this.result + '-' + J[1]
                                        result_check.splice(1, 1, J[1])
                                    }
                                    else if (maxe[1] == Pe[1]) {
                                        random_aux1 = '-F'
                                        random_aux2 = '-T'
                                    }
                                }
                                else {
                                    this.result = "你的结果无意义"
                                }
                            }
                            else if (trovet[1] == 'i') {
                                if (maxi) {
                                    this.result += maxi[1]
                                    result_check.splice(0, 1, maxi[1])
                                    if (maxi[1] == Ji[1] && P) {
                                        this.result = this.result + '-' + P[1]
                                        result_check.splice(1, 1, P[1])
                                    }
                                    else if (maxe[1] == Ji[1]) {
                                        random_aux1 = '-N'
                                        random_aux2 = '-S'
                                    }
                                    if (maxi[1] == Pi[1] && J) {
                                        this.result = this.result + '-' + J[1]
                                        result_check.splice(1, 1, J[1])
                                    }
                                    else if (maxe[1] == Pi[1]) {
                                        random_aux1 = '-F'
                                        random_aux2 = '-T'
                                    }
                                }
                                else {
                                    this.result = "你的结果无意义"
                                }
                            }
                            else {
                                this.result = "你的结果无意义"
                            }
                        }
                        // if i = e then get a e result first
                        else {
                            if (maxe) {
                                this.result += maxe[1]
                                result_check.splice(0, 1, maxe[1])
                                if (maxe[1] == Je[1] && P) {
                                    this.result = this.result + '-' + P[1]
                                    result_check.splice(1, 1, P[1])
                                }
                                else if (maxe[1] == Je[1]) {
                                    random_aux1 = '-N'
                                    random_aux2 = '-S'
                                }
                                if (maxe[1] == Pe[1] && J) {
                                    this.result = this.result + '-' + J[1]
                                    result_check.splice(1, 1, J[1])
                                }
                                else if (maxe[1] == Pe[1]) {
                                    random_aux1 = '-F'
                                    random_aux2 = '-T'
                                }
                            }
                            else if (maxi) {
                                this.result += maxi[1]
                                result_check.splice(0, 1, maxi[1])
                                if (maxi[1] == Ji[1] && P) {
                                    this.result = this.result + '-' + P[1]
                                    result_check.splice(1, 1, P[1])
                                }
                                else if (maxe[1] == Ji[1]) {
                                    random_aux1 = '-N'
                                    random_aux2 = '-S'
                                }
                                if (maxi[1] == Pi[1] && J) {
                                    this.result = this.result + '-' + J[1]
                                    result_check.splice(1, 1, J[1])
                                }
                                else if (maxe[1] == Pi[1]) {
                                    random_aux1 = '-F'
                                    random_aux2 = '-T'
                                }
                            }
                            else {
                                this.result = "你的结果无意义"
                            }
                        }
                        var result1 = this.result + random_aux1
                        var result2 = this.result + random_aux2
                        var result3 = this.result + random_aux1
                        this.img1 = "<img src='./img/" + result1 + this.img1
                        this.img2 = "<img src='./img/" + result2 + this.img2
                        this.img3 = "<img src='./img/" + result3 + this.img3
                        this.C1 = getcharacter(result1)[0]
                        this.C2 = getcharacter(result2)[1]
                        this.C3 = getcharacter(result3)[2]
                        this.result_text += getresulttext(result_check[0], result_check[1])
                        this.result_page = true
                    }

                },
                // expandbutton: function () {
                //     this.select = "select_button"
                //     console.log(this.select);
                // },
                // rebutton: function () {
                //     this.select = "no_select_button"
                //     console.log(this.select);
                // },

                transbutton: function () {
                    this.bclass = "start_button_mouseover"
                },
                outbutton: function () {
                    this.bclass = "start_button"
                }
            }
        })
    </script>
</body>

</html>